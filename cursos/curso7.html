<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Curso Programaci√≥n</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #fafafa; }
    header { background: #0077cc; color: #fff; padding: 20px; border-radius: 12px; }
    header h1 { margin: 0; }
    .contenido { margin-top: 20px; line-height: 1.6; }
    textarea { width: 100%; height: 250px; font-family: monospace; padding: 10px; border-radius: 8px; border: 1px solid #ccc; }
    select, button { margin-top: 10px; padding: 8px 12px; border-radius: 8px; border: none; background: #0077cc; color: #fff; cursor: pointer; }
    button:hover { background: #005fa3; }
    pre { background: #222; color: #0f0; padding: 15px; border-radius: 8px; overflow-x: auto; margin-top: 15px; }
  </style>
</head>
<body>
  <header>
    <h1>Curso : Programaci√≥n en C, C++ y Python</h1>
  </header>

  <div class="contenido">
    <h2>üìπ Video de Introducci√≥n</h2>
    <iframe width="560" height="315" 
            src="https://www.youtube.com/embed/ID_DEL_VIDEO" 
            title="Video de Introducci√≥n" 
            frameborder="0" allowfullscreen>
    </iframe>

    <h2>‚úçÔ∏è Prueba tu c√≥digo</h2>
    <label for="language">Selecciona un lenguaje:</label>
    <select id="language">
      <option value="c">C</option>
      <option value="cpp">C++</option>
      <option value="python">Python</option>
    </select>

    <textarea id="editor"></textarea>
    <br>
    <button onclick="runCode()">‚ñ∂ Ejecutar</button>

    <h3>Salida:</h3>
    <pre id="output"></pre>
  </div>

  <script>
    // Ejemplos Hello World precargados
    const examples = {
      c: `#include <stdio.h>\nint main() {\n    printf("Hello, World from C!\\n");\n    return 0;\n}`,
      cpp: `#include <iostream>\nusing namespace std;\nint main() {\n    cout << "Hello, World from C++!\\n";\n    return 0;\n}`,
      python: `print("Hello, World from Python!")`
    };

    const editor = document.getElementById("editor");
    const output = document.getElementById("output");
    const language = document.getElementById("language");

    // Precargar ejemplo por defecto
    editor.value = examples[language.value];

    language.addEventListener("change", () => {
      editor.value = examples[language.value];
      output.textContent = "";
    });

    // Funci√≥n principal para ejecutar c√≥digo
    async function runCode() {
      output.textContent = "‚è≥ Ejecutando...";
      const code = editor.value;
      const lang = language.value;

      if (lang === "python") {
        runPython(code);
      } else {
        runClang(code, lang);
      }
    }

    // Ejecutar Python con Skulpt
    function runPython(code) {
      output.textContent = "";
      Sk.configure({
        output: function(text) { output.textContent += text; },
        read: builtinRead
      });
      try {
        Sk.misceval.asyncToPromise(() => Sk.importMainWithBody("<stdin>", false, code, true))
          .catch(err => { output.textContent = "‚ùå Error: " + err.toString(); });
      } catch (err) {
        output.textContent = "‚ùå Error: " + err.toString();
      }
    }

    function builtinRead(x) {
      if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
        throw "File not found: '" + x + "'";
      return Sk.builtinFiles["files"][x];
    }

    // Ejecutar C/C++ con wasm-clang (demo)
    async function runClang(code, lang) {
      try {
        const result = await Clang.compile(code, { lang: lang });
        output.textContent = result.stdout || "‚úî C√≥digo ejecutado";
      } catch (err) {
        output.textContent = "‚ùå Error: " + err;
      }
    }
  </script>

  <!-- Skulpt desde CDN -->
  <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>

  <!-- wasm-clang desde CDN -->
  <script src="https://cdn.jsdelivr.net/npm/wasm-clang@0.2.2/dist/clang.js"></script>

</body>
</html>

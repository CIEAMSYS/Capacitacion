<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Curso 4 - Programaci√≥n</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #fafafa; }
    header { background: #0077cc; color: #fff; padding: 20px; border-radius: 12px; }
    header h1 { margin: 0; }
    .contenido { margin-top: 20px; line-height: 1.6; }
    textarea { width: 100%; height: 250px; font-family: monospace; padding: 10px; border-radius: 8px; border: 1px solid #ccc; }
    select, button { margin-top: 10px; padding: 8px 12px; border-radius: 8px; border: none; background: #0077cc; color: #fff; cursor: pointer; }
    button:hover { background: #005fa3; }
    pre { background: #222; color: #0f0; padding: 15px; border-radius: 8px; overflow-x: auto; margin-top: 15px; }
  </style>
</head>
<body>
  <header>
    <h1>Curso 4: Programaci√≥n en C, C++ y Python</h1>
  </header>

  <div class="contenido">
    <h2>üìπ Video de Introducci√≥n</h2>
    <iframe width="560" height="315" 
            src="https://www.youtube.com/embed/ID_DEL_VIDEO" 
            title="Video de Introducci√≥n" 
            frameborder="0" allowfullscreen>
    </iframe>

    <h2>‚úçÔ∏è Prueba tu c√≥digo</h2>
    <label for="language">Selecciona un lenguaje:</label>
    <select id="language">
      <option value="c">C</option>
      <option value="cpp">C++</option>
      <option value="python">Python</option>
    </select>

    <textarea id="editor"></textarea>
    <br>
    <button onclick="runCode()">‚ñ∂ Ejecutar</button>

    <h3>Salida:</h3>
    <pre id="output"></pre>
  </div>

  <script>
    // Ejemplos Hello World precargados
    const examples = {
      c: `#include <stdio.h>\nint main() {\n    printf("Hello, World from C!\\n");\n    return 0;\n}`,
      cpp: `#include <iostream>\nusing namespace std;\nint main() {\n    cout << "Hello, World from C++!\\n";\n    return 0;\n}`,
      python: `print("Hello, World from Python!")`
    };

    const editor = document.getElementById("editor");
    const output = document.getElementById("output");
    const language = document.getElementById("language");

    // Precargar ejemplo por defecto
    editor.value = examples[language.value];

    language.addEventListener("change", () => {
      editor.value = examples[language.value];
      output.textContent = "";
    });

    // Inicializar Pyodide para Python
    let pyodideReady = false;
    let pyodide;
    async function loadPyodideAndPackages() {
      pyodide = await loadPyodide();
      pyodideReady = true;
    }
    loadPyodideAndPackages();

    // Funci√≥n para ejecutar c√≥digo
    async function runCode() {
      output.textContent = "‚è≥ Ejecutando...";
      const code = editor.value;
      const lang = language.value;

      if (lang === "python") {
        if (!pyodideReady) {
          output.textContent = "‚ö† Pyodide a√∫n no est√° listo.";
          return;
        }
        try {
          let result = await pyodide.runPythonAsync(code);
          output.textContent = result !== undefined ? result : "‚úî C√≥digo Python ejecutado";
        } catch (err) {
          output.textContent = "‚ùå Error: " + err;
        }
      } else {
        // Para C y C++ usamos wasm-clang (simple demo)
        try {
          const result = await compileAndRunClang(code, lang);
          output.textContent = result;
        } catch (err) {
          output.textContent = "‚ùå Error: " + err;
        }
      }
    }

    // Demo de compilador C/C++ con wasm-clang
    async function compileAndRunClang(code, lang) {
      return new Promise((resolve) => {
        resolve("‚ö† Compilaci√≥n C/C++ con wasm-clang a√∫n en pruebas.\nC√≥digo recibido:\n" + code);
      });
    }
  </script>

  <!-- Pyodide desde CDN -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>

  <!-- Futuro: wasm-clang desde CDN -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/wasm-clang"></script> -->

</body>
</html>

